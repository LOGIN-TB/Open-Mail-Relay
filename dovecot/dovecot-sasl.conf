# Dovecot Auth-Only Configuration for Postfix SASL
# No IMAP/POP3 â€” only authentication socket for Postfix

protocols =

# Authentication mechanisms
auth_mechanisms = plain login

# Password database: passwd-file format (user:{PLAIN}password)
passdb {
  driver = passwd-file
  args = /etc/dovecot/users
}

# User database (not needed for auth-only, but required by Dovecot)
userdb {
  driver = static
  args = uid=postfix gid=postfix home=/tmp
}

# Auth socket for Postfix (inside chroot)
service auth {
  unix_listener /var/spool/postfix/private/auth {
    mode = 0660
    user = postfix
    group = postfix
  }
}

# Logging
log_path = /dev/stderr
auth_verbose = yes
